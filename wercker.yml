box: node:6.11.0-slim

build:
  steps:
    - script:
      name: clean workspace and npm caches
      code: |
        rm -rf $WERCKER_CACHE_DIR/wercker/npm
        npm run clean

    - npm-install

    - script:
        name: build binary
        code: |
          npm run build

    - script:
        name: move executable
        code: mv panther-* $WERCKER_REPORT_ARTIFACTS_DIR
