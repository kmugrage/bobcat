box: node:6.11.0-slim

build:
  steps:
    - script:
      name: clean workspace (sometimes node_modules is dirty)
      code: git clean -fdx

    - npm-install

    - script:
        name: build binary
        code: |
          npm run clean
          npm run build

    - script:
        name: move executable
        code: mv panther-* $WERCKER_REPORT_ARTIFACTS_DIR
